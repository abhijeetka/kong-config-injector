{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Kong Config Injector","text":"<p>Kong Config Injector is a tool designed to automatically configure Kong API Gateway in Kubernetes environments. It reads service configurations from a JSON file provided via ConfigMap and sets up routes, services, and plugins in Kong using its Admin API.</p>"},{"location":"#overview","title":"Overview","text":"<p>The Kong Config Injector helps DevOps teams and developers manage Kong API Gateway configurations as code. Instead of manually configuring services and routes through Kong's Admin API, you can define your desired configuration in a structured JSON file and let the injector handle the rest.</p> <p>Key features:</p> <ul> <li>Define Kong services, routes, and plugins as code</li> <li>Automatically sync configurations to Kong API Gateway</li> <li>Kubernetes native deployment with Helm</li> <li>Support for multiple services and routes</li> <li>Configurable plugin settings</li> </ul>"},{"location":"#how-it-works","title":"How It Works","text":"<ol> <li>You define your Kong configuration in a JSON file (<code>kong-service.json</code>)</li> <li>The JSON file is mounted into the injector via a Kubernetes ConfigMap</li> <li>The injector communicates with Kong's Admin API to create/update services, routes, and plugins</li> <li>Configuration changes are automatically detected and applied</li> </ol>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#add-the-helm-repository","title":"Add the Helm repository","text":"<pre><code>helm repo add kong-injector https://abhijeetka.github.io/kong-injector\n</code></pre>"},{"location":"#install-kong-injector","title":"Install Kong Injector","text":"<pre><code>helm install kong-injector kong-injector/kong-injector \\\n  --set env.kongAdminUrl=kong-admin-service \\\n  --set env.kongAdminPort=8001 \\\n  --set env.kongNamespace=kong\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>You can install Kong Injector using Helm, which is the recommended approach.</p>"},{"location":"getting-started/installation/#using-helm","title":"Using Helm","text":"<ol> <li>Add the Kong Injector Helm repository:</li> </ol> <pre><code>helm repo add kong-injector https://abhijeetka.github.io/kong-injector\nhelm repo update\n</code></pre>"},{"location":"getting-started/prerequisites/","title":"Prerequisites","text":""},{"location":"getting-started/prerequisites/#prerequisites","title":"Prerequisites","text":"<p>Before installing Kong Injector, ensure that you have the following prerequisites:</p>"},{"location":"getting-started/prerequisites/#kong-api-gateway","title":"Kong API Gateway","text":"<p>You must have a running Kong API Gateway instance with the Admin API accessible from the Kubernetes cluster where you'll deploy Kong Config Injector.</p> <ul> <li>Kong version: 2.x or higher recommended</li> <li>Admin API must be accessible (by default on port 8001)</li> </ul>"},{"location":"getting-started/prerequisites/#kubernetes","title":"Kubernetes","text":"<ul> <li>Kubernetes cluster (version 1.16+)</li> <li>kubectl configured to interact with your cluster</li> <li>Helm 3.x (for Helm chart installation)</li> </ul>"},{"location":"getting-started/prerequisites/#permissions","title":"Permissions","text":"<p>The service account used by Kong Injector needs permissions to:</p> <ul> <li>Access the Kong Admin API</li> <li>Read ConfigMaps in its namespace (for the kong-service.json configuration)</li> </ul>"},{"location":"getting-started/prerequisites/#network-access","title":"Network Access","text":"<p>Kong Injector needs network access to:</p> <ul> <li>Kong Admin API (typically at <code>http://&lt;kong-admin-service&gt;:8001</code>)</li> <li>Kubernetes API server</li> </ul>"},{"location":"getting-started/prerequisites/#json-configuration","title":"JSON Configuration","text":"<p>Prepare your <code>kong-service.json</code> file that defines the services, routes, and plugins you want to configure in Kong. See the Kong Service JSON Reference for details on the file format.</p>"},{"location":"reference/helm-chart/","title":"Helm Chart","text":""},{"location":"reference/helm-chart/#helm-chart-reference","title":"Helm Chart Reference","text":""},{"location":"reference/helm-chart/#helm-chart-reference_1","title":"Helm Chart Reference","text":"<p>The Kong Injector Helm chart provides a Kubernetes-native way to deploy and manage the Kong Injector application. This page describes all the configuration options available in the chart.</p>"},{"location":"reference/helm-chart/#values","title":"Values","text":"Parameter Description Default <code>replicaCount</code> Number of Kong Injector replicas <code>1</code> <code>image.repository</code> Container image repository <code>abhijeetka/kong-injector</code> <code>image.pullPolicy</code> Image pull policy <code>IfNotPresent</code> <code>image.tag</code> Image tag <code>v1.0.0</code> <code>imagePullSecrets</code> Image pull secrets <code>[]</code> <code>nameOverride</code> Override the name of the chart <code>\"\"</code> <code>fullnameOverride</code> Override the full name of the chart <code>\"\"</code> <code>env.kongAdminUrl</code> Kong Admin API URL <code>kong-cp-kong-admin</code> <code>env.kongAdminPort</code> Kong Admin API port <code>8001</code> <code>env.kongNamespace</code> Namespace where Kong is deployed <code>kong</code> <code>serviceAccount.create</code> Create a service account <code>true</code> <code>serviceAccount.annotations</code> Service account annotations <code>{}</code> <code>serviceAccount.name</code> Service account name <code>kong-injector</code> <code>podAnnotations</code> Pod annotations <code>{}</code> <code>podSecurityContext</code> Pod security context <code>{}</code> <code>securityContext</code> Container security context <code>{}</code> <code>service.type</code> Service type <code>ClusterIP</code> <code>service.port</code> Service port <code>80</code> <code>configMap.name</code> Name of the ConfigMap containing Kong configuration <code>kong-config</code> <code>configMap.mountPath</code> Path where the ConfigMap is mounted <code>/opt/kong</code> <code>configMap.readOnly</code> Whether the ConfigMap is mounted read-only <code>true</code> <code>resources</code> CPU/Memory resource requests/limits <code>{}</code>"},{"location":"reference/helm-chart/#example-valuesyaml","title":"Example: values.yaml","text":"<pre><code>replicaCount: 1\n\nimage:\n  repository: abhijeetka/kong-injector\n  pullPolicy: IfNotPresent\n  tag: \"v1.0.0\"\n\nenv:\n  kongAdminUrl: kong-admin\n  kongAdminPort: 8001\n  kongNamespace: kong-system\n\nserviceAccount:\n  create: true\n  name: kong-injector\n\nconfigMap:\n  name: kong-config\n  mountPath: \"/opt/kong\"\n  readOnly: true\n\nresources:\n  limits:\n    cpu: 200m\n    memory: 256Mi\n  requests:\n    cpu: 100m\n    memory: 128Mi\n</code></pre>"},{"location":"reference/kong-service/","title":"Kong Service JSON","text":""},{"location":"reference/kong-service/#kong-configuration-file-explanation","title":"Kong Configuration File Explanation","text":"<p>The kong-config.json file defines Kong services, routes, and plugins for the Kong Injector to apply to a Kong API Gateway instance. This file is usually stored in a ConfigMap that is mounted to the Kong Injector.  </p>"},{"location":"reference/kong-service/#basic-structure","title":"Basic Structure","text":"<p>The configuration file follows this general structure:</p> <pre><code>{\n  \"services\": [\n    {\n      \"name\": \"example-service\",\n      \"url\": \"http://example-backend:8080\",\n      \"routes\": [\n        {\n          \"name\": \"example-route\",\n          \"paths\": [\"/api\"],\n          \"plugins\": [\n            {\n              \"name\": \"key-auth\",\n              \"config\": {\n                \"key_names\": [\"api-key\"]\n              }\n            }\n          ]\n        }\n      ],\n      \"plugins\": [\n        {\n          \"name\": \"rate-limiting\",\n          \"config\": {\n            \"second\": 5\n          }\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"reference/kong-service/#examples","title":"Examples","text":"<p>Adding a Service <pre><code>{\n  \"services\": [\n    {\n      \"name\": \"user-service\",\n      \"url\": \"http://user-backend:3000\",\n      \"protocol\": \"http\",\n      \"connect_timeout\": 60000,\n      \"read_timeout\": 60000,\n      \"write_timeout\": 60000\n    }\n  ]\n}\n</code></pre></p> <p>Adding a Route to a Service</p> <pre><code>{\n  \"services\": [\n    {\n      \"name\": \"user-service\",\n      \"url\": \"http://user-backend:3000\",\n      \"routes\": [\n        {\n          \"name\": \"user-api-route\",\n          \"paths\": [\"/users\", \"/users/(?:[^/]+)\"],\n          \"methods\": [\"GET\", \"POST\"],\n          \"strip_path\": false,\n          \"preserve_host\": true\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <p>Adding a Plugin to a Route <pre><code>{\n  \"services\": [\n    {\n      \"name\": \"user-service\",\n      \"url\": \"http://user-backend:3000\",\n      \"routes\": [\n        {\n          \"name\": \"user-api-route\",\n          \"paths\": [\"/users\"],\n          \"plugins\": [\n            {\n              \"name\": \"key-auth\",\n              \"config\": {\n                \"key_names\": [\"api-key\"],\n                \"hide_credentials\": true\n              }\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre></p>"},{"location":"usage/configuration/","title":"Configuration","text":""},{"location":"usage/configuration/#configuration-docsusageconfigurationmd","title":"Configuration (<code>docs/usage/configuration.md</code>)","text":"<p>Kong Injector is configured using a combination of Helm chart values and a JSON configuration file. This page provides an overview of the configuration options available in Kong Injector.</p>"},{"location":"usage/configuration/#configuring-kong-injector","title":"Configuring Kong Injector","text":"<p>Kong Injector is primarily configured through:</p> <ol> <li>Helm chart values when deploying</li> <li>The <code>kong-service.json</code> file in the ConfigMap</li> </ol>"},{"location":"usage/configuration/#helm-configuration","title":"Helm Configuration","text":"<p>When installing Kong Injector via Helm, you can configure various aspects of the deployment:</p> <pre><code>helm install kong-injector kong-injector/kong-injector \\\n  --set env.kongAdminUrl=kong-admin-service \\\n  --set env.kongAdminPort=8001 \\\n  --set env.kongNamespace=kong \\\n  --set replicaCount=2 \\\n  -n &lt;your-namespace&gt;\n</code></pre>"}]}